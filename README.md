## Integrate [Become Re-Verefication service](https://becomedigital.net/) to your website with Become web button

How it looks like in your code:

```html
<become-reverification-button
  userId="<YOUR_USER_ID>"
  contractId="<YOUR_CONTRACT_ID>"
  token="<YOUR_JWT_TOKEN>"
/>
```

How it looks like on your page:

<img src="https://gist.githubusercontent.com/Tyg0th/15c5131ef7d2b24b9effa97eb45dedce/raw/07a5e1f3e428bd1d32bfe2940591872e1ae1ec2d/become-button-example.jpg" width="211" />

### Integrate

Add this script to your `<script>` tag

```html
<script src="https://onboarding.svi.becomedigital.net/resources/reverification-button.js"></script>
```

Declare the userId for this identity, the contractId and the token in the custom element

```html
<become-reverification-button
  userId="<YOUR_USER_ID>"
  contractId="<YOUR_CONTRACT_ID>"
  token="<YOUR_JWT_TOKEN>"
/>
```

### API

### Re-verification

All users who have gone through the Onboarding process, from now on, will be able to do the authentication process based on facial biometrics and proof of life (liveness detecting), without having to show their identity document again.

- [Reverification API](https://documenter.getpostman.com/view/2293906/T1DtdvBk?version=latest#06c03291-3e2f-4f66-bf6d-a7bf179d17df)

#### Button attributes

| Attribute name | Description                                                                              |
| -------------- | ---------------------------------------------------------------------------------------- |
| `userId`       | The Custom unique key from previous validation declared by the user                      |
| `contractId`   | Contract identifier for validation type                                                  |
| `token`        | JWT safe created for requests in the API generated by company credentials                |
| `country`      | 2 characters country identifier (default: "CO" - Colombia) Example of use: "FR" (France) |
| `state`        | 2 charactes state identifier (only available for US states when country is "US"          |

#### Events

You can also subscribe to the events that the button emits to let you know about the re-verfication process, the most importants are

| EventName                  | Description                                         |
| -------------------------- | --------------------------------------------------- |
| become:sdkLoaded           | Indicate whener the SDK was loaded successfully     |
| become:verificationStarted | Re-verfication process started                      |
| become:userFinishedSdk     | Successful completion of the re-verfication process |
| become:exitedSdk           | User exited the process manually                    |

When the event `userFinishedSdk` is collect, you will receive a collection as the below:

```json
{
  "AuditImages": [
    {
      "BoundingBox": {
        "Height": 283.93048095703125,
        "Left": 218.52137756347656,
        "Top": 105.67168426513672,
        "Width": 193.6444854736328
      },
      "Bytes": ""
    }
  ],
  "Confidence": 99.91615295410156,
  "ReferenceImage": {
    "BoundingBox": {
      "Height": 287.81195068359375,
      "Left": 206.05030822753906,
      "Top": 76.31394958496094,
      "Width": 201.10231018066406
    },
    "Bytes": ""
  },
  "ResponseMetadata": {
    "HTTPHeaders": {
      "content-length": "73089",
      "content-type": "application/x-amz-json-1.1",
      "date": "Wed, 03 Apr 2024 21:07:33 GMT",
      "x-amzn-requestid": "2df06a47-acab-49cd-9bb8-f26d7b9231a8"
    },
    "HTTPStatusCode": 200,
    "RequestId": "2df06a47-acab-49cd-9bb8-f26d7b9231a8",
    "RetryAttempts": 0
  },
  "SessionId": "b996bce1-0750-4ec3-8a0d-bea94812b6a1",
  "Status": "SUCCEEDED"
}
```

- `Confidence` is the percentage of liveness for the user
- `AuditImages.Bytes` and `ReferenceImage.Bytes` are images in Base64

### Example

- Minimal usage:
  - Vanilla JS: see `index.html`
- Using the Image to call re-verfication API `examples/index.js`
